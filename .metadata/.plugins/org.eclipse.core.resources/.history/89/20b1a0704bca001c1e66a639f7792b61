/*
 * Menu.c
 *
 *  Created on: 29 abr. 2022
 *      Author: miguel
 */

#include "Menu.h"

void menu( eAlbum* eAlbum , int tamAlbum )
{
	int opciones ;
	int auxLugarLibre ;
	int auxCodigoBuscado;
	int auxCodigoBaja;
	inicilizar(eAlbum, tamAlbum);

	do {
		printf("\n1) ALTA \n2) MODIFICACION \n3) BAJA \n4) INFORMAR \n5) LISTAR \n6)SALIR");
		printf("\nIngrese algo : ");
		scanf("%d", &opciones);

		switch(opciones)
		{
			case 1:
				printf("\nAlta");

				if(buscarLugarLibre(eAlbum, tamAlbum, &auxLugarLibre) == 1)
				{
					if(alta(eAlbum, tamAlbum, auxLugarLibre) == 1)
					{
						printf("\nFin del Alta");
					}
				}
				break;
			case 2:
				printf("\nMODIFICACION");
				utn_pedirInt(&auxCodigoBuscado, "\nIngrese el codigo (de 5 digitos) :","\nERROR", 1, 99999, 2);
				auxCodigoBuscado = buscarCodigo(eAlbum, tamAlbum, auxCodigoBuscado);
				if(auxCodigoBuscado != -1)
				{
					printf("\nSe encontro el codigo ");
					printf("\nTitulo : %s || fecha : %d/%d/%d || importe : %d",
							eAlbum[auxCodigoBuscado].titulo ,eAlbum[auxCodigoBuscado].fecha.dia, eAlbum[auxCodigoBuscado].fecha.mes , eAlbum[auxCodigoBuscado].fecha.anio,eAlbum[auxCodigoBuscado].importe);

					if(modificar(eAlbum, tamAlbum, auxCodigoBuscado) == 1)
					{
						printf("\nFin de la modificacion ");
					}
				}else{
					printf("\nNo se encontro el codigo");
				}

				break;
			case 3:
				printf("\nBAJA");
				if(utn_pedirInt(&auxCodigoBaja, "\nINgrese el Codigo del Album a bajar (entre 5 digitos):", "\nERROR", 1, 9999, 2)== 0)
				{
					auxCodigoBaja = buscarCodigo(eAlbum, tamAlbum, auxCodigoBaja);
					if(auxCodigoBaja != -1)
					{
						printf("\nSE encontro : ");
						printf("\nTitulo : %s || fecha : %d/%d/%d || importe : %d",
						eAlbum[auxCodigoBuscado].titulo ,eAlbum[auxCodigoBuscado].fecha.dia, eAlbum[auxCodigoBuscado].fecha.mes , eAlbum[auxCodigoBuscado].fecha.anio,eAlbum[auxCodigoBuscado].importe);

						if(baja(eAlbum, tamAlbum, &auxCodigoBaja) == 1)
						{
							printf("Ya se hizo la baja ");
						}
					}
				}
				break;
			case 4:
				printf("\nINFORMAR");
				break;
			case 5:
				printf("\nLISTAR");
				break;
			case 6 :
				printf("\nSalio del programa");
				break;
		}

	} while (opciones != 6);

}

